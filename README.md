# 專案指引

## 摘要

台灣河洛話（俗稱：台語），傳自遠古漢族人。隨著歷史長河推波向前，朝代興衰更迭，
此語不再成為朝堂官話，故而逐漸式微。時至今日，即便能操持一口流利河洛話之人，
亦無法正確地使用漢字書寫，將口中河洛話語化成文字。世間種種，有用則流傳不止、
綿延不息；不用自會為人淡忘、漸漸消逝。

專案之發起，期待可借由「河洛話輸入法之開發」，協助能說河洛話之人，以正確之漢字
書寫河洛話。

河洛話特有的四聲、八調，用於誦讀：古文、詩、詞，乃至經文，總能讓我感受到一股濃濃
的風雅韻味。先祖的漢字、雅音，這個珍貴的遺産，祈願得以永世流傳，不使斷絕！

## 專案目標

專案所欲開發之輸入法，屬【拼音字母】、【注音符號】輸入法類型。規劃將開發之輸入法，
計有：

- 拼音輸入法：漢字以【台語音標（TLPA）】之拼音字母輸入；
- 注音輸入法：仿注音符號輸入法，漢字以【方音符號】、【台語音標注音】標音；
- 反切輸入法：漢字以【台語音標】之拼音字母輸入，而挑選漢字之候選清單以反切之【十五音】、【廣韻】標示漢字讀音；
- 閩拼輸入法：仿閩音方案（BP），實驗另一種鼻音韻母標示方式。

## 技術摘要

### 漢字讀音編碼

輸入法之「漢字」讀音，以【台語音標】編碼。（全名：
[臺灣語言音標方案；簡稱：TLPA）](https://zh.wikipedia.org/zh-tw/%E8%87%BA%E7%81%A3%E8%AA%9E%E8%A8%80%E9%9F%B3%E6%A8%99%E6%96%B9%E6%A1%88)。TLPA 是台灣語文學會於 1991 年期間，針對臺灣主要語言，所制定的
音標系統，適用於為：臺灣閩南語、臺灣客家語、臺灣原住民語標注讀音。之後教育部
更在 2003 年 2 月，將「閩南語」部份與「國際語音符號（國際音標）」、「教會羅馬字
」系統整合，隨後於 2006 年 10 月 14 日公布為「臺灣閩南語羅馬字拼音方案（簡稱：
台羅拼音）」。

### 輸入法引擎

專案開發之輸入法，以【中州韻輸入法引擎（簡稱：RIME）】為作業平臺。因 RIME 為
跨越作業系統之輸入法框架；故而專案所開發之輸入法，可於 Windows, macOS, Linux 
各種作業系統操作使用。

## 安裝作業

RIME 在不同作業系統之間，各有不同的「軟體套件名稱」。其下載、安裝操作細節，請
參考 [Wiki](https://github.com/AlanJui/rime-tlpa/wiki) 中的操作指引文件。以下
說明為下載及安裝作業之摘要參考。

1. **下載及安裝 [RIME 中州韻輸入法引擎](http://rime.im)**；

   不同作業系統的 RIME 名稱：

   - macOS: 鼠鬚管
   - Windows: 小狼毫
   - Linux: 中州韻 (ibus-rime, fcitx-rime, fcitx5-rime)


   【註】： 由於 Linux 作業系統發布版眾多（如：Ubuntu, LinuxMint, ArchLinux）...，
            且 Linux 的各個發布版又有不同的【輸入法框架】，如：iBus, Fcitx 和 Gcin...。
            目前 RIME 在 Linux 作業系統可運作的輸入法框架，有：ibus-rime, fcitx-rime
            及 fcit5-rime 共三種。所以，在安裝 RIME 之前，得先確認 Linux 作業
            系統安裝的【輸入法框架】為何者。

2. **下載及安裝 [河洛輸入法套件包](https://github.com/AlanJui/rime-taigi/releases) 
ZIP 壓縮檔案**；

3. **編輯 RIME 設定檔準備啟用河洛輸入法**；

   RIME 設定檔名稱為：`default.custom.yaml`，各作業系統之 RIME 設定檔存放
   `目錄路徑（資料夾）`條列如下：

   - 鼠鬚管(macOS)：`~/Library/Rime/`

   - 小狼毫(Windows)：`"%APPDATA%\Rime"`

   - 中州韻(Linux)：`~/.config/ibus/rime/`

4. **重新部署 RIME 輸入法**：將作業系統使用中的輸入法，先切換成 RIME，再執行 RIME
   輸入法中的「重新部署」指令。

## 拼音輸入法

### 台語音標

河洛輸入法允許使用者只輸入【羅馬拼音字母】，推導相對映可能之漢字，並顯示於輸入法
之【候選字】清單中，供使用者選擇；至於「聲調」則可略去不用指明。但聲調數值之輸入
，可使輸入法精準地縮小【候選字】之範圍，更容易快速找到所要輸入之漢字。對於喜歡
自行輸入聲調數值之使用者，可參考以下之鍵盤說明，於羅馬拼音字母之後補入「聲調」。

| 調號 | 四聲八調   | 聲調按鍵 | 漢字 | 台語音標 | 按鍵輸入 |
| :--: | :--------- | :------: | :--: | :------- | :------- |
| 1    | 陰平 (a)   | ;        |  東  |  tong1   | tong;    |
| 2    | 陰上 (á)   | \        |  黨  |  tong2   | tong\\   |
| 3    | 陰去 (à)   | _        |  棟  |  tong3   | tong_    |
| 4    | 陰入 (ah)  | [        |  督  |  tok4    | tok[     |
| 5    | 陽平 (â)   | /        |  同  |  tong5   | tong/    |
| 6    | 陽上 (ǎ)   | \        |  動  |  tong6   | tong\\   |
| 7    | 陽去 (ā)   | -        |  洞  |  tong7   | tong-    |
| 8    | 陽入 (a̍h) | ]         |  毒  |  tok8    | tok]     |
| 0    | 陰入       | .        |  督  |  tok0    | tok.     |
| 0    | 陽入       | .        |  毒  |  tok0    | tok.     |

![聲調鍵盤](./docs/static/img/keymap_tlpa_phing_im.png)


## 注音輸入法

### [方音符號](https://zh.wikipedia.org/zh-tw/%E8%87%BA%E7%81%A3%E6%96%B9%E9%9F%B3%E7%AC%A6%E8%99%9F)


【方音符號】為類似國語注音符號之「注音符號」標音系統。其常用之標音符號，及代表符號讀音之【國際音標】詳述如下。  

![方音符號表](./docs/static/img/zu_im_piau_hong_im.png)

方音符號使用之鍵盤，及輸入時使用之按鍵，請參考下圖。

| 調號 | 四聲八調   | 聲調按鍵 | 漢字 | 台語音標 | 按鍵輸入 |
| :--: | :--------- | :------: | :--: | :------- | :------- |
| 1    | 陰平 (ㄚˉ) | \<SP\>   |  東  |  tong1   |ㄊㆲˉ     |
| 2    | 陰上 (ㄚˋ) | 4        |  黨  |  tong2   |ㄊㆲˋ     |
| 3    | 陰去 (ㄚ˪) | 3        |  棟  |  tong3   |ㄊㆲ˪     |
| 4    | 陰入 (ㄚ˙) | 7        |  督  |  tok4    |ㄊㆦㄍ˙   |
| 5    | 陽平 (ㄚˊ) | 6        |  同  |  tong5   |ㄊㆲˊ     |
| 6    | 陽上 (ㄚˋ) | 4        |  動  |  tong6   |ㄊㆲˋ     |
| 7    | 陽去 (ㄚ˫) | 5        |  洞  |  tong7   |ㄊㆲ˫     |
| 8    | 陽入 (ㄚ˙) | 7        |  毒  |  tok8    |ㄊㆦㄍ˙   |

![方音符號鍵盤](./docs/static/img/keymap_fong_im_hu_ho.png)

### 台語音標注音符號

![台語音標注音符號表](./docs/static/img/zu_im_piau_tlpa.png)

台語音標使用之注音符號，漢字輸入時，其所使用之按鍵，請參考如下之說明。

| 調號 | 四聲八調   | 聲調按鍵 | 漢字 | 台語音標 | 按鍵輸入 |
| :--: | :--------- | :------: | :--: | :------- | :------- |
| 1    | 陰平 (ㄚˉ) | \<SP\>   |  東  |  tong1   |ㄊㆦㄥˉ   |
| 2    | 陰上 (ㄚˋ) | 4        |  黨  |  tong2   |ㄊㆦㄥˋ   |
| 3    | 陰去 (ㄚ˪) | 3        |  棟  |  tong3   |ㄊㆦㄥ˪   |
| 4    | 陰入 (ㄚ˙) | 7        |  督  |  tok4    |ㄊㆦㄍ˙   |
| 5    | 陽平 (ㄚˊ) | 6        |  同  |  tong5   |ㄊㆦㄥˊ   |
| 6    | 陽上 (ㄚˋ) | 4        |  動  |  tong6   |ㄊㆦㄥˋ   |
| 7    | 陽去 (ㄚ˫) | 5        |  洞  |  tong7   |ㄊㆦㄥ˫   |
| 8    | 陽入 (ㄚ˙) | 7        |  毒  |  tok8    |ㄊㆦㄍ˙   |


![注音符號鍵盤](./docs/static/img/keymap_tlpa_zu_im_hu_ho.png)

## 字形

以下之字形，均為開源、免費，適用於河洛話注音之字形：

- [霞鶩文楷TC](https://github.com/lxgw/LxgwWenkaiTC)

- [字咍](https://github.com/ButTaiwan/taigivs/releases)

- [豆腐烏](https://github.com/glll4678/tshiuthau)

