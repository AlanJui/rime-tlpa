# lib_phing_im: 拼音輸入法模組程式舘

phing_im_tng_ji_be:
  #======================================================
  # 定義【注音符號】使用之【注音編碼】，令【台語音標】拼音字母形成
  # 對映關係。
  #======================================================
  __append:
    # 去除零聲母
    - derive/Ø//
    # --------------------------------------------------------------------------
    # 舌尖前音（齒齦音）: z[c], c[ch], j[j], s[s]
    - derive/^ts/c/	          # 可與台語拼音相容
    - derive/^c(?!h)/z/       # ㄗ（拼音字母 c 之後不是接 h 的【c】換成【z】）
    - derive/^ch/c/           # ㄘ
    #------------------------------------------------------------------
    # 變調
    #------------------------------------------------------------------
    - xform/6/7/
    # 舒聲變調（1 2 3 5 7）
    - derive/2/1/ # 第二調 → 第一調：高降取高
    - derive/5/7/ # 第五調 → 第七調：低升取升
    - derive/1/7/ # 第一調 → 第七調：高變中
    - derive/7/3/ # 第七調 → 第三調：中變低
    - derive/3/2/ # 第三調 → 第二調：低變高降
    # 入聲變調（4 8）
    - derive/(?<![ptkh])4/8/ # -ㆷ 第四調 → 第八調
    - derive/(?<![ptkh])8/4/ # -ㆷ 第八調 → 第四調
    #------------------------------------------------------------------
    # 定義【地方腔】與【優勢腔】相容之處理規則
    #------------------------------------------------------------------
    # - derive/er(ng|k)/i$1/
    - derive/er(n|t)/u$1/
    - derive/ere/ue/
    - derive/er/e/
    - xform/er(ng|k)/i$1/
    # - xform/er(n|t)/u$1/
    # - xform/ere/ue/
    # - xform/er/e/
    - derive/ei/e/	  # 漳州腔
    - derive/ur/u/	  # 廈門腔
    - derive/ou/oo/
    - derive/ee/e/	  # 漳州/泉州腔
    # --------------------------------------------------------------------------
    # 鼻音韻母
    # ann ==> nna ==> Na ==> ㄬㄚ ==> ㆩ
    #------------------------------------------------------
    - derive/([iu]?(ai|au|[iuaoe]))nn/N$1/
    #--------------------------------------------------------------------------
    # 入聲韻尾轉換
    # -m  ==> -p = ㆴ
    # -n  ==> -t = ㆵ
    # -ng ==> -k = ㆻ
    - derive/p[48]/p0/	    # ㆴ
    - derive/t[48]/t0/	    # ㆵ
    - derive/k[48]/k0/	    # ㆻ
    - derive/h[48]/h0/	    # ㆷ
    #--------------------------------------------------------------------------
    # 設定讀取 ‘字典’ 漢字拼音的 ‘解析格式'
    #--------------------------------------------------------------------------
    - derive/^([A-Za-z]+)\d$/$1/


abbreviation:
  #=======================================================================
  # 簡化輸入之【縮寫規則】設定
  #=======================================================================
  __append:
    # 可以只用【聲母】音標找漢字
    - abbrev/^([pbmtnlkgzcjsh]g?s?h?h?).*$/$1/
    # 可只輸入【聲母】與【調號】
    - abbrev/^([pbmtnlkgzcjsh]g?s?h?h?).+(\d)$/$1$2/


ji_be_tng_jih_kian:
  #======================================================
  # 定義【注音符號】之【符號編碼】與【鍵盤按鍵】之對映關聯。
  #------------------------------------------------------
  # 舒聲 [12357]
  # 1: ;
  # 2: \
  # 3: _ （劃底線符號）
  # 5: /
  # 6: [N/A]
  # 7: -
  # 4: [
  # 8: ]
  # 輕聲及入聲 [48] = 0
  # 0: .
  #======================================================
  __append:
    - xlit|12357480|;\_/-[].|


jih_kian_tng_uann:
  #======================================================
  # 【輸入編輯列(preedit_format)】：定義輸入按鍵與注音符號之對映定義
  # 操作輸入法時，在輸入介面壓下的【按鍵】，與之對映的注音符號（ㄅㄆㄇ），
  # 將根據此處的定義，於輸入介面顯示相對應的注音符號
  #======================================================
  __append:
    - xform/tsh/c/
    - xform/ts/z/
    #------------------------------------------------------
    # 處理鼻音化韻母；鼻化符號以 ‘上標n’ 顯示
    # a/e/i/O/u/uai/iau/ai/au/ia/io/iu/ua/ui
    #------------------------------------------------------
    # - xform/([iu]?(ai|au|[iuaoe]))nn/$1ⁿ/
    # - xform/N/nn/
    #------------------------------------------------------
    # 定義 ‘調號’ 的 '對映規則'
    #  ; ==> 1
    #  \ ==> 2
    #  _ ==> 3
    #  / ==> 5
    #  - ==> 7
    #  [ ==> 4
    #  ] ==> 8
    #  . ==> 0
    #------------------------------------------------------
    # 定義 ‘調號’ 的 '對映規則'
    #------------------------------------------------------
    - xlit|;\_/-[].|12357480|


TL_Phing_Im_Piau_Tiau_Ho:
  __append:
    # 1: ;, 2: \, 3: <, 4: [, 5: /, 7: -, 8: ]
    - 'xform ([aeiou])(r?m?n*h?g?p?t?k?)(;|\\|<|\[|\/|-|\]) $1$3$2'
    - 'xform ([aeo])([iueo])(;|\\|<|\[|\/|-|\]) $1$3$2'
    - 'xform a\[ a'
    - 'xform e\[ e'
    - 'xform i\[ i'
    - 'xform u\[ u'
    - 'xform o\[ o'
    - 'xform m\[ m'
    - 'xform ng\[ ng'
    - "xform a/ á"
    - "xform e/ é"
    - "xform i/ í"
    - "xform u/ ú"
    - "xform o/ ó"
    - "xform m/ ḿ"
    - "xform ng/ ńg"
    - 'xform a\\ à'
    - 'xform e\\ è'
    - 'xform i\\ ì'
    - 'xform u\\ ù'
    - 'xform o\\ ò'
    - 'xform ng\\ ǹg'
    - 'xform a\] a'
    - 'xform e\] e'
    - 'xform i\] i'
    - 'xform u\] u'
    - 'xform o\] o'
    - 'xform mh\] mh'
    - 'xform ngh\] ngh'
    - "xform a9 â"
    - "xform e9 ê"
    - "xform i9 î"
    - "xform u9 û"
    - "xform o9 ô"
    - "xform m9 m̂"
    - "xform ng9 n̂g"
    - "xform a0 ǎ"
    - "xform e0 ě"
    - "xform i0 ǐ"
    - "xform u0 ǔ"
    - "xform o0 ǒ"
    - "xform ng0 ňg"
    - "xform a- ā"
    - "xform e- ē"
    - "xform i- ī"
    - "xform u- ū"
    - "xform o- ō"
    - "xform m- m̄"
    - "xform ng- n̄g"
    - "xform a; a̍"
    - "xform e; e̍"
    - "xform i; i̍"
    - "xform u; u̍"
    - "xform o; o̍"
    - "xform mh; m̍h"
    - "xform ngh; n̍gh"

