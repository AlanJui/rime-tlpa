# lib_sip_ngoo_im： 十五音輸入法模組程式館
# version: "v0.1.0.0"


phing_im_tng_ji_be:
  #======================================================
  # 定義【注音符號】使用之【注音編碼】，令【台語音標】拼音字母形成
  # 對映關係。
  #======================================================
  __append:
    # 零聲母
    - xform/Ø/q/
    # --------------------------------------------------------------------------
    # 舌尖前音（齒齦音）: z[c], c[ch], j[j], s[s]
    - xform/tsh/c/
    - xform/ts/z/
    #------------------------------------------------------------------
    # 變調
    #------------------------------------------------------------------
    - xform/6/7/
    # 舒聲變調（1 2 3 5 7）
    - derive/2/1/ # 第二調 → 第一調：高降取高
    - derive/5/7/ # 第五調 → 第七調：低升取升
    - derive/1/7/ # 第一調 → 第七調：高變中
    - derive/7/3/ # 第七調 → 第三調：中變低
    - derive/3/2/ # 第三調 → 第二調：低變高降
    # 入聲變調（4 8）
    - derive/(?<![ptkh])4/8/ # -ㆷ 第四調 → 第八調
    - derive/(?<![ptkh])8/4/ # -ㆷ 第八調 → 第四調
    # --------------------------------------------------------------------------
    # 鼻音韻母
    # ann ==> nna ==> Na ==> ㄬㄚ ==> ㆩ
    #------------------------------------------------------
    - derive/([iu]?(ai|au|[iuaoe]))nn/N$1/
    #--------------------------------------------------------------------------
    # 入聲韻尾轉換
    # -m  ==> -p = ㆴ
    # -n  ==> -t = ㆵ
    # -ng ==> -k = ㆻ
    - derive/p[48]/p0/	    # ㆴ
    - derive/t[48]/t0/	    # ㆵ
    - derive/k[48]/k0/	    # ㆻ
    - derive/h[48]/h0/	    # ㆷ
    #--------------------------------------------------------------------------
    # 設定讀取 ‘字典’ 漢字拼音的 ‘解析格式'
    #--------------------------------------------------------------------------
    - derive/^([A-Za-z]+)\d$/$1/


abbreviation:
  #=======================================================================
  # 簡化輸入之【縮寫規則】設定
  #=======================================================================
  __append:
    # 可以只用【聲母】音標找漢字
    - abbrev/^([pbmtnlkgzcjsh]g?s?h?h?).*$/$1/
    # 可只輸入【聲母】與【調號】
    - abbrev/^([pbmtnlkgzcjsh]g?s?h?h?).+(\d)$/$1$2/


ji_be_tng_jih_kian:
  #======================================================
  # 定義【注音符號】之【符號編碼】與【鍵盤按鍵】之對映關聯。
  #------------------------------------------------------
  # 舒聲 [12357]
  # 1: ;
  # 2: \
  # 3: _ （劃底線符號）
  # 5: /
  # 6: [N/A]
  # 7: -
  # 4: [
  # 8: ]
  # 輕聲及入聲 [48] = 0
  # 0: .
  #======================================================
  __append:
    - xlit|12357480|;\_/-[].|


jih_kian_tng_uann:
  #======================================================
  # 【輸入編輯列(preedit_format)】：定義輸入按鍵與注音符號之對映定義
  # 操作輸入法時，在輸入介面壓下的【按鍵】，與之對映的注音符號（ㄅㄆㄇ），
  # 將根據此處的定義，於輸入介面顯示相對應的注音符號
  #======================================================
  __append:
    - xform/tsh/c/
    - xform/ts/z/
    #--------------------------------------------------------------------------
    # 定義【鍵盤按鍵】與【注音符號】對映關聯
    #--------------------------------------------------------------------------
    # - "xlit|1q!a2wsxyhnbYHNBedEgcuj8ik,9lUJ*I<(L-M0;Oomp/.|ㄅㄆㆠㄇㄉㄊㄋㄌㄗㄘㄙㆡㄐㄑㄒㆢㄍㄎㆣㄫㄏㄧㄨㄚㆦㄜㆤㄞㄠㆪㆫㆩㆧㆥㆮㆯㆨㆰㄢㄤㆱㆲㆬㄣㆭㄬ|"
    #--------------------------------------------------------------------------
    # 按鍵轉注音符號：定義鍵盤【按鍵】與【注音符號】的對映關聯
    # 操作輸入法時，在輸入介面壓下的【按鍵】，與之對映的注音符號（ㄅㄆㄇ），
    # 將根據此處的定義，於輸入介面顯示相對應的注音符號
    #--------------------------------------------------------------------------
    # - xform/ /ˉ/
    - xform/'/ /
    # - xform/q/Ø/
    # - xform/./N/
    - xform/^q/英/
    #------------------------------------------------------
    # 處理鼻音化韻母；鼻化符號以 ‘上標n’ 顯示
    # a/e/i/O/u/uai/iau/ai/au/ia/io/iu/ua/ui
    #------------------------------------------------------
    # - xform/([iu]?(ai|au|[iuaoe]))nn/$1ⁿ/
    # - xform/N/nn/
    #------------------------------------------------------
    # 定義 ‘調號’ 的 '對映規則'
    #  ; ==> 1
    #  \ ==> 2
    #  _ ==> 3
    #  / ==> 5
    #  - ==> 7
    #  [ ==> 4
    #  ] ==> 8
    #  . ==> 0
    #------------------------------------------------------
    # 定義 ‘調號’ 的 '對映規則'
    #------------------------------------------------------
    - xlit|;\_/-[].|一二三五七四八輕|
    #======================================================
    # 定義 ‘按鍵’ 與 '聲母' 的 '對映規則'
    #======================================================
    # - xform/kh/去/
    # - xform/ng/雅/
    # - xform/ph/頗/
    # - xform/th/他/
    # - xform/b/門/
    # - xform/c/出/
    # - xform/g/語/
    # - xform/h/喜/
    # - xform/j/入/
    # - xform/k/求/
    # - xform/l/柳/
    # - xform/m/毛/
    # - xform/n/耐/
    # - xform/p/邊/
    # - xform/q/英/
    # - xform/s/時/
    # - xform/t/地/
    # - xform/z/曾/
    #------------------------------------------------------
    # 舌齒音（齒齦顎音）
    - xform/^z/曾/
    - xform/^c/出/
    - xform/^s/時/
    - xform/^j/入/
    #------------------------------------------------------
    # 唇音(不送氣音/送氣音/濁音/鼻音)
    - xform/^ph/頗/
    - xform/^p(?!h)(?!\d)/邊/
    - xform/^m(?!\d)/毛/     # m 不僅為聲母，亦為韻化聲母
    - xform/^b/門/
    #------------------------------------------------------
    # 舌根音
    - xform/^kh/去/
    - xform/^k(?!h)(?!\d)/求/
    - xform/^ng(?!\d)/雅/
    - xform/^g/語/
    #------------------------------------------------------
    # 舌尖音
    - xform/^th/他/
    - xform/^t(?!h)(?!\d)/地/
    - xform/^n(?!g)(?!\d)/耐/
    - xform/^l/柳/
    #------------------------------------------------------
    # 喉音
    # - xform/^h(?!\d)/喜/
    - xform/^h/喜/
    #======================================================
    # 定義 ‘按鍵’ 與 '韻母' 的 '對映規則'
    #======================================================
    #------------------------------------------------------
    # i
    #------------------------------------------------------
    # 姜 iang / 堅 ian / 兼 iam
    - xform/ia(ng|k)/姜/
    - xform/ia(n|t)/堅/
    - xform/ia(m|p)/兼/
    # 經 ing / 巾 in / 金 im
    - xform/i(m|p)/金/
    - xform/i(ng|k)/經/
    # - xform/ing/經/
    # - xform/ik/經/
    # 嘄 Niau / 嬌 iau
    - xform/(N?)(iau)/嘄/
    - xform/(iau)/嬌/
    # 驚 Nia / 迦 ia
    - xform/(N?)(ia)/驚/
    - xform/(ia)/迦/
    # 恭 iong
    - xform/io(ng|k)/恭/
    # 薑 Nio / 茄 io
    - xform/(N?)(io)/薑/
    - xform/(io)/茄/
    # 牛 Niu / 丩 iu
    - xform/(N?)(iu)/牛/
    - xform/(iu)/丩/
    # 泉腔
    # - xform/ir/ㄦ/	    # ㆨㄦ : 豬（ㄉㆨ tir，海口腔）、
    # - xform/ir/ㆨ/	    # ㆨㄦ : 豬（ㄉㆨ tir，海口腔）、
    # 梔 Ni / 居 i
    - xform/(N?)(i)/梔/
    - xform/i/居/
    #------------------------------------------------------
    # u
    #------------------------------------------------------
    # 閂 Nuai / 乖 uai
    - xform/(N?)(uai)/閂/
    - xform/(uai)/乖/
    # 光 uang / 觀 uan
    - xform/ua(ng|k)/光/
    - xform/ua(n|t)/觀/
    # 官 Nua / 瓜 ua 
    - xform/(N?)(ua)/官/
    - xform/(ua)/瓜/
    # 褌 Nui / 規 ui
    - xform/(N?)(ui)/褌/
    - xform/(ui)/規/
    # 糜 Nue / 檜 ue
    - xform/(N?)(ue)/糜/
    - xform/(ue)/檜/
    # 君 un
    - xform/u(n|t)/君/
    # 方音
    # - xform/ur/ㄨ/
    # 艍 u
    - xform/u/艍/
    #------------------------------------------------------
    # a
    #------------------------------------------------------
    # 江 ang / 干 an / 甘 am
    - xform/a(ng|k)/江/
    - xform/a(n|t)/干/
    - xform/a(m|p)/甘/
    # 閒 Nai / 皆 ai
    - xform/(N?)(ai)/閒/
    - xform/(ai)/皆/
    # 爻 Nau / 交 au
    - xform/(N?)(au)/爻/
    - xform/(au)/交/
    # 監 Na / 膠 a
    - xform/(N?)(a)/監/
    - xform/(a)/膠/
    #------------------------------------------------------
    # e
    #------------------------------------------------------
    # 泉腔: erng, erk, eru, ere, ern er
    # - xform/er(ng|k)/ㄧ$1/	# 等 [terng2], 德 [terk4]
    # - xform/er(n|t)/ㄧ$1/	  # 【恩】：ern1
    # - xform/ere/ㄨㆤ/	      # 火【鷄】:kere1
    # - xform/er/ㄜ/	        # 【火】鷄: her2
    # 稽 ei / 嘉 ee
    - xform/ei/稽/
    - xform/ee/嘉/
    # 更 Ne / 伽 e
    - xform/(N?)(e)/更/
    - xform/(e)/伽/
    #------------------------------------------------------
    # oo
    #------------------------------------------------------
    # 公 ong / 箴 om
    - xform/o(ng|k)/公/
    - xform/o(m|p)/箴/
    # 姑 Noo / 沽 oo
    - xform/(N?)(oo)/v古/
    - xform/(oo)/沽/
    #------------------------------------------------------
    # o
    #------------------------------------------------------
    # 扛 No / 高 o
    - xform/(N?)(o)/扛/	  # 扛 No
    - xform/o/高/	        # 高 o
    # 泉州腔
    # - xform/or/ㄜ/
    #------------------------------------------------------
    # 鼻音韻尾
    # 陽聲韻： 姆[m-] / 鋼[ng-] 
    #------------------------------------------------------
    - xform/m/姆/
    - xform/ng/鋼/
    #------------------------------------------------------
    # 校調
    #------------------------------------------------------
    # - xform/茄雅/恭/
